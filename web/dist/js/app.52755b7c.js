(function(t){function e(e){for(var s,r,o=e[0],l=e[1],c=e[2],u=0,g=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&g.push(n[r][0]),n[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(g.length)g.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},n={app:0},i=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"0df3":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("a79d");var s=a("2b0e"),n=a("2f62"),i=a("4eb5"),r=a.n(i),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{},[a("nav",{staticClass:"navbar navbar-expand-sm navbar-dark bg-dark"},[a("div",{staticClass:"container-fluid"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v(" Sandwich Daemon "),a("span",{staticClass:"text-secondary h6"},[t._v("Version ðŸ¥ª")])]),t._m(0),a("div",{staticClass:"collapse navbar-collapse justify-content-end",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav"},[t._m(1),t.$store.state.user&&t.$store.state.user.id?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{"aria-current":"page",to:"/dashboard"}},[t._v("Dashboard")])],1):t._e(),t.$store.state.user&&t.$store.state.user.id?a("li",{staticClass:"nav-item"},[a("span",{staticClass:"nav-link dropdown-toggle",attrs:{id:"userDropdown",role:"button","data-toggle":"dropdown","aria-expanded":"false"}},[a("img",{attrs:{width:"24",height:"24",src:"https://cdn.discordapp.com/avatars/"+t.$store.state.user.id+"/"+t.$store.state.user.avatar+".png?size=32",alt:"User profile picture"}})]),a("ul",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-label":"Profile"}},[a("li",[a("span",{staticClass:"dropdown-item"},[t._v(" Signed in as "),a("b",[t._v(t._s(t.$store.state.user.username))])])]),t._m(2),t._m(3)])]):a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{"aria-current":"page",href:"/login"}},[t._v("Login")])])])])],1)]),t.$store.state.error?a("div",{staticClass:"text-center py-5"},[a("error",{attrs:{message:t.$store.state.error}})],1):a("div",[a("router-view")],1)])])},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{"aria-current":"page",href:"https://github.com/TheRockettek/Sandwich-Daemon"}},[t._v("GitHub")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("hr",{staticClass:"dropdown-divider"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{staticClass:"dropdown-item",attrs:{href:"/logout"}},[t._v("Sign Out")])])}],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center my-5"},[a("svg-icon",{staticClass:"mb-2 text-muted",attrs:{type:"mdi",width:64,height:64,path:t.mdiAlertCircle}}),a("h3",[t._v("Oops, something happened.")]),a("p",{staticClass:"m-auto my-2 col-10 text-muted"},[t._v(" Something unexpected happened whilst handling your request, sorry. ")]),a("kbd",[t._v(t._s(this.message))])],1)},d=[],u=a("1fee"),g=a("94ed"),m={components:{SvgIcon:u["a"]},props:["message"],data(){return{mdiAlertCircle:g["a"]}}},f=m,p=a("2877"),h=Object(p["a"])(f,c,d,!1,null,null,null),b=h.exports,v={components:{Error:b}},_=v,C=(a("034f"),Object(p["a"])(_,o,l,!1,null,null,null)),y=C.exports,x=a("9483");Object(x["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var D,k,S=a("8c4f"),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center my-5"},[a("svg-icon",{staticClass:"mb-2 text-muted",attrs:{type:"mdi",width:64,height:64,path:t.mdiHelpRhombus}}),a("h3",[t._v("404")]),a("p",{staticClass:"m-auto my-2 col-10 text-muted"},[t._v(" It seems you are not where you want to be... ")]),a("kbd",[t._v(t._s(this.$route.path))])],1)},M=[],I={components:{SvgIcon:u["a"]},name:"NotFoundPage",data(){return{mdiHelpRhombus:g["b"]}}},E=I,$=Object(p["a"])(E,w,M,!1,null,null,null),G=$.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-sm d-flex"},[a("div",{staticClass:"align-items-center text-center m-auto d-flex flex-wrap mt-5"},[a("img",{staticClass:"justify-content-start m-auto flex-grow-1 p-2",attrs:{width:"128",height:"128",src:t.items[t.item%t.items.length]},on:{click:function(e){t.item++}}}),a("div",{staticClass:"justify-content-end text-center flex-grow-2 mx-auto p-2"},[a("h1",[t._v("Sandwich Daemon")]),t._m(0),a("router-link",{staticClass:"ml-1",attrs:{to:"/dashboard"}},[a("button",{staticClass:"btn btn-dark",attrs:{type:"button"}},[t._v(" Dashboard ")])])],1)])])},R=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"mr-1",attrs:{href:"https://github.com/TheRockettek/Sandwich-Daemon"}},[a("button",{staticClass:"btn btn-dark",attrs:{type:"button"}},[t._v("Github")])])}],T={name:"Index",data:function(){return{item:0,items:["/img/brand.svg","/img/comfy.svg"]}}},P=T,j=Object(p["a"])(P,A,R,!1,null,null,null),O=j.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-xl p-3"},[t.$store.state.userLoading?a("div",[t._m(0)]):t.$store.state.userAuthenticated?this.loading?t._e():a("div",[a("div",{staticClass:"modal fade",attrs:{id:"createShardGroupDialogue",tabindex:"-1","aria-labelledby":"createShardGroupDialogueLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"createShardGroupDialogueLabel"}},[t._v(" New ShardGroup for "+t._s(t.createShardGroupDialogueData.manager)+" ")]),t._m(1)]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"col-sm-12 form-label"},[t._v("Shard Count")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createShardGroupDialogueData.autoShard,expression:"createShardGroupDialogueData.autoShard"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.createShardGroupDialogueData.autoShard)?t._i(t.createShardGroupDialogueData.autoShard,null)>-1:t.createShardGroupDialogueData.autoShard},on:{change:function(e){var a=t.createShardGroupDialogueData.autoShard,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&t.$set(t.createShardGroupDialogueData,"autoShard",a.concat([i])):r>-1&&t.$set(t.createShardGroupDialogueData,"autoShard",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.createShardGroupDialogueData,"autoShard",n)}}}),a("label",{staticClass:"form-check-label mb-2"},[t._v("Auto Determine")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createShardGroupDialogueData.shardCount,expression:"createShardGroupDialogueData.shardCount"}],staticClass:"form-control",attrs:{type:"number",disabled:t.createShardGroupDialogueData.autoShard},domProps:{value:t.createShardGroupDialogueData.shardCount},on:{input:function(e){e.target.composing||t.$set(t.createShardGroupDialogueData,"shardCount",e.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"col-sm-12 form-label"},[t._v("Shard IDs")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createShardGroupDialogueData.autoIDs,expression:"createShardGroupDialogueData.autoIDs"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.createShardGroupDialogueData.autoIDs)?t._i(t.createShardGroupDialogueData.autoIDs,null)>-1:t.createShardGroupDialogueData.autoIDs},on:{change:function(e){var a=t.createShardGroupDialogueData.autoIDs,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&t.$set(t.createShardGroupDialogueData,"autoIDs",a.concat([i])):r>-1&&t.$set(t.createShardGroupDialogueData,"autoIDs",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.createShardGroupDialogueData,"autoIDs",n)}}}),a("label",{staticClass:"form-check-label mb-2"},[t._v("Auto Determine")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createShardGroupDialogueData.shardIDs,expression:"createShardGroupDialogueData.shardIDs"}],staticClass:"form-control",attrs:{type:"text",disabled:t.createShardGroupDialogueData.autoIDs,placeholder:"from-to,from-to,from-to"},domProps:{value:t.createShardGroupDialogueData.shardIDs},on:{input:function(e){e.target.composing||t.$set(t.createShardGroupDialogueData,"shardIDs",e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" Close ")]),a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.createShardGroup()}}},[t._v(" Create ShardGroup ")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"stopShardGroupDialogue",tabindex:"-1","aria-labelledby":"stopShardGroupDialogueLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"stopShardGroupDialogueLabel"}},[t._v(" Stop ShardGroup "+t._s(t.stopShardGroupDialogueData.shardgroup)+" for "+t._s(t.stopShardGroupDialogueData.manager)+" ")]),t._m(2)]),t._m(3),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" Close ")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.stopShardGroup()}}},[t._v(" Stop ShardGroup ")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"createManagerDialogue",tabindex:"-1","aria-labelledby":"createManagerDialogueLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(4),a("div",{staticClass:"modal-body"},[a("form",[a("div",{staticClass:"mb-3"},[t._m(5),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createManagerDialogueData.identifier,expression:"createManagerDialogueData.identifier"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter unique identifiable name for manager"},domProps:{value:t.createManagerDialogueData.identifier},on:{input:function(e){e.target.composing||t.$set(t.createManagerDialogueData,"identifier",e.target.value)}}})]),a("div",{staticClass:"mb-3"},[t._m(6),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createManagerDialogueData.token,expression:"createManagerDialogueData.token"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Enter bot token",autocomplete:"false"},domProps:{value:t.createManagerDialogueData.token},on:{input:function(e){e.target.composing||t.$set(t.createManagerDialogueData,"token",e.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"col-sm-12 form-label"},[t._v("Redis Prefix")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createManagerDialogueData.prefix,expression:"createManagerDialogueData.prefix"}],staticClass:"form-control",attrs:{type:"text",placeholder:"eg: "+t.createManagerDialogueData.identifier},domProps:{value:t.createManagerDialogueData.prefix},on:{input:function(e){e.target.composing||t.$set(t.createManagerDialogueData,"prefix",e.target.value)}}})]),a("div",{staticClass:"mb-3"},[t._m(7),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createManagerDialogueData.client,expression:"createManagerDialogueData.client"}],staticClass:"form-control",attrs:{type:"text",placeholder:"eg: "+t.createManagerDialogueData.identifier},domProps:{value:t.createManagerDialogueData.client},on:{input:function(e){e.target.composing||t.$set(t.createManagerDialogueData,"client",e.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"col-sm-12 form-label"},[t._v("NATs Channel Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createManagerDialogueData.channel,expression:"createManagerDialogueData.channel"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Defaults to "+t.daemon.configuration.nats.channel},domProps:{value:t.createManagerDialogueData.channel},on:{input:function(e){e.target.composing||t.$set(t.createManagerDialogueData,"channel",e.target.value)}}})]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createManagerDialogueData.persist,expression:"createManagerDialogueData.persist"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.createManagerDialogueData.persist)?t._i(t.createManagerDialogueData.persist,null)>-1:t.createManagerDialogueData.persist},on:{change:function(e){var a=t.createManagerDialogueData.persist,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&t.$set(t.createManagerDialogueData,"persist",a.concat([i])):r>-1&&t.$set(t.createManagerDialogueData,"persist",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.createManagerDialogueData,"persist",n)}}}),t._m(8),a("p",{staticClass:"text-muted"},[t._v(" When enabled, changes to Manager will be saved to the configuration. Un-check if you do not want to save the manager. ")])]),a("p",{staticClass:"text-danger"},[t._v("* Required")])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" Close ")]),a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.createManager()}}},[t._v(" Create Manager ")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"deleteManagerDialogue",tabindex:"-1","aria-labelledby":"deleteManagerDialogueLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"deleteManagerDialogueLabel"}},[t._v(" Delete Manager "+t._s(t.deleteManagerDialogueData.manager)+"? ")]),t._m(9)]),a("div",{staticClass:"modal-body"},[a("label",{staticClass:"form-check-label mb-2"},[t._v("Confirm deleting manager by typing "),a("b",[t._v(t._s(t.deleteManagerDialogueData.manager))])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.deleteManagerDialogueData.confirm,expression:"deleteManagerDialogueData.confirm"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Type: '"+t.deleteManagerDialogueData.manager+"'"},domProps:{value:t.deleteManagerDialogueData.confirm},on:{input:function(e){e.target.composing||t.$set(t.deleteManagerDialogueData,"confirm",e.target.value)}}})]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" Close ")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.deleteManager()}}},[t._v(" Delete Manager ")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"restartManagerDialogue",tabindex:"-1","aria-labelledby":"restartManagerDialogueLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"restartManagerDialogueLabel"}},[t._v(" Restart Manager "+t._s(t.restartManagerDialogueData.manager)+"? ")]),t._m(10)]),a("div",{staticClass:"modal-body"},[a("label",{staticClass:"form-check-label mb-2"},[t._v("Confirm restarting manager by typing its name. This will stop any currently running shardgroups")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.restartManagerDialogueData.confirm,expression:"restartManagerDialogueData.confirm"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Type: '"+t.restartManagerDialogueData.manager+"'"},domProps:{value:t.restartManagerDialogueData.confirm},on:{input:function(e){e.target.composing||t.$set(t.restartManagerDialogueData,"confirm",e.target.value)}}})]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" Close ")]),a("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:function(e){return t.restartManager()}}},[t._v(" Restart Manager ")])])])])]),t._m(11),a("div",{staticClass:"tab-content",attrs:{id:"pills-tabContent"}},[a("div",{staticClass:"tab-pane fade show active",attrs:{id:"pills-home",role:"tabpanel","aria-labelledby":"pills-home-tab"}},[a("div",{staticClass:"m-5"},[a("h3",{staticClass:"text-center text-dark"},[t._v("Sandwich Daemon")]),a("div",{staticClass:"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4 justify-content-center"},[a("card-display",{attrs:{title:"Guilds",value:t.analytics.guilds,bg:"bg-dark"}}),a("card-display",{attrs:{title:"Online",value:t.analytics.online,bg:t.analytics.colour}}),a("card-display",{attrs:{title:"Uptime",value:t.analytics.uptime,bg:"bg-dark"}}),a("card-display",{attrs:{title:"Events Processed",value:t.analytics.events,bg:"bg-dark"}})],1),this.loadingAnalytics?a("div",[t._m(12)]):a("div",[t.analytics.chart?a("line-chart",{attrs:{"chart-data":t.analytics.chart,height:150,options:t.chartOptions.events}}):t._e()],1)]),t.daemon.rest_tunnel_enabled?a("div",{staticClass:"m-5"},[this.loadingRestTunnel?a("div",{staticClass:"d-flex justify-content-center"},[t._m(13)]):a("div",[a("h3",{staticClass:"text-center text-dark"},[t._v("RestTunnel")]),a("div",{staticClass:"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4 justify-content-center"},[a("card-display",{attrs:{title:"Requests Processed",value:t.resttunnel.numbers.requests,bg:"bg-dark"}}),a("card-display",{attrs:{title:"Hits",value:t.resttunnel.numbers.hits,bg:"bg-dark"}}),a("card-display",{attrs:{title:"Misses",value:t.resttunnel.numbers.misses,bg:"bg-dark"}}),a("card-display",{attrs:{title:"Uptime",value:t.resttunnel.uptime,bg:"bg-dark"}}),a("card-display",{attrs:{title:"Waiting",value:t.resttunnel.numbers.waiting,bg:"bg-dark"}})],1),a("div",{staticClass:"row row-cols-2 row-cols-sm-1 row-cols-md-2 row-cols-xl-3 g-4 justify-content-center"},[a("div",{staticClass:"col justify-content-center d-flex"},[t.resttunnel.charts.hits?a("line-chart",{attrs:{"chart-data":t.resttunnel.charts.hits,height:300,options:t.chartOptions.ratelimitHits}}):t._e()],1),a("div",{staticClass:"col justify-content-center d-flex"},[t.resttunnel.charts.misses?a("line-chart",{attrs:{"chart-data":t.resttunnel.charts.misses,height:300,options:t.chartOptions.ratelimitMisses}}):t._e()],1),a("div",{staticClass:"col justify-content-center d-flex"},[t.resttunnel.charts.waiting?a("line-chart",{attrs:{"chart-data":t.resttunnel.charts.waiting,height:300,options:t.chartOptions.waitingRequests}}):t._e()],1),a("div",{staticClass:"col justify-content-center d-flex"},[t.resttunnel.charts.requests?a("line-chart",{attrs:{"chart-data":t.resttunnel.charts.requests,height:300,options:t.chartOptions.totalRequests}}):t._e()],1),a("div",{staticClass:"col justify-content-center d-flex"},[t.resttunnel.charts.callbacks?a("line-chart",{attrs:{"chart-data":t.resttunnel.charts.callbacks,height:300,options:t.chartOptions.callbackBuffer}}):t._e()],1),a("div",{staticClass:"col justify-content-center d-flex"},[t.resttunnel.charts.average_response?a("line-chart",{attrs:{"chart-data":t.resttunnel.charts.average_response,height:300,options:t.chartOptions.averageResponse}}):t._e()],1)])])]):t._e()]),a("div",{staticClass:"tab-pane fade",attrs:{id:"pills-managers",role:"tabpanel","aria-labelledby":"pills-managers-tab"}},[a("button",{staticClass:"btn btn-dark",attrs:{type:"button"},on:{click:function(e){return t.createManagerDialogue()}}},[t._v(" Create Manager ")]),t._l(this.fromClusters(t.daemon.managers),(function(e,s){return a("div",{key:s},[a("div",{staticClass:"accordion my-4",attrs:{id:"manager-"+e.configuration.identifier}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header",attrs:{id:"header-manager-"+e.configuration.identifier}},[a("h2",{staticClass:"mb-0"},[a("button",{staticClass:"btn btn-link btn-block text-left text-decoration-none text-dark",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapse-manager-"+e.configuration.identifier,"aria-expanded":"true","aria-controls":"collapse-manager-"+e.configuration.identifier}},[a("span",{class:"badge mr-2 bg-"+t.colourCluster[e.status]||!1},[t._v(t._s(t.statusGroup[e.status]))]),a("span",[t._v(t._s(e.configuration.display_name))])])])]),a("div",{staticClass:"collapse",attrs:{id:"collapse-manager-"+e.configuration.identifier,"aria-labelledby":"header-manager-"+e.configuration.identifier,"data-parent":"#manager-"+e.configuration.identifier}},[a("div",{staticClass:"card-body"},[a("ul",{staticClass:"nav nav-tabs",attrs:{id:"pills-tab",role:"tablist"}},[a("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[a("a",{staticClass:"nav-link active",attrs:{id:"manager-"+e.configuration.identifier+"-pills-status-tab","data-toggle":"pill",href:"#manager-"+e.configuration.identifier+"-pills-status",role:"tab","aria-controls":"manager-"+e.configuration.identifier+"-pills-status","aria-selected":"true"}},[t._v("Status")])]),a("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[a("a",{staticClass:"nav-link",attrs:{id:"manager-"+e.configuration.identifier+"-pills-settings-tab","data-toggle":"pill",href:"#manager-"+e.configuration.identifier+"-pills-settings",role:"tab","aria-controls":"manager-"+e.configuration.identifier+"-pills-settings","aria-selected":"false"}},[t._v("Settings")])])]),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade p-4 active show",attrs:{id:"manager-"+e.configuration.identifier+"-pills-status",role:"tabpanel","aria-labelledby":"manager-"+e.configuration.identifier+"-pills-status-tab"}},[a("ul",{staticClass:"list-group mb-4"},[a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v(" Shard Groups "),a("span",{staticClass:"badge bg-dark rounded-pill"},[t._v(t._s(Object.keys(e.shardgroups).length))])]),a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v(" Average Latency "),a("span",{staticClass:"badge bg-dark rounded-pill"},[t._v(t._s(t.calculateAverage(e))+" ms")])]),a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v(" Sessions "),a("span",{staticClass:"badge bg-dark rounded-pill"},[t._v(t._s(e.gateway.session_start_limit.remaining)+"/"+t._s(e.gateway.session_start_limit.total)+" ("+t._s(e.gateway.session_start_limit.max_concurrency)+")")])])]),a("button",{staticClass:"btn btn-dark mr-1",attrs:{type:"button"},on:{click:function(a){return t.createShardGroupDialogue(e.configuration.identifier)}}},[t._v(" Scale Manager ")]),a("button",{staticClass:"btn btn-info mr-1",attrs:{type:"button"},on:{click:function(a){return t.refreshGateway(e.configuration.identifier)}}},[t._v(" Refresh Gateway ")]),a("button",{staticClass:"btn btn-dark mr-1",attrs:{type:"button"},on:{click:function(a){return t.deleteManagerDialogue(e.configuration.identifier)}}},[t._v(" Delete Manager ")]),a("button",{staticClass:"btn btn-dark mr-1",attrs:{type:"button"},on:{click:function(a){return t.restartManagerDialogue(e.configuration.identifier)}}},[t._v(" Restart Manager ")]),""!=e.error?a("div",[a("div",{staticClass:"p-3 mb-2 bg-danger text-white my-4"},[t._v(" "+t._s(e.error)+" ")])]):t._e(),t._l(e.shardgroups,(function(s,n){return a("div",{key:n,staticClass:"border border-bottom bg-light rounded-lg p-3 my-4"},[a("div",{staticClass:"mb-3"},[a("h5",[a("span",{class:"badge rounded-pill bg-"+t.colourGroup[s.status]||!1},[t._v(t._s(t.statusGroup[s.status]))]),t._v(" ShardGroup "+t._s(s.id)+" ")]),6!=s.status?a("div",[a("button",{staticClass:"btn btn-dark",attrs:{type:"button"},on:{click:function(a){return t.stopShardGroupDialogue(e.configuration.identifier,s.id)}}},[t._v(" Stop ShardGroup ")])]):t._e(),s.status>=6?a("div",[a("button",{staticClass:"btn btn-dark",attrs:{type:"button"},on:{click:function(a){return t.deleteShardGroup(e.configuration.identifier,s.id)}}},[t._v(" Delete ShardGroup ")])]):t._e()]),6!=s.status?a("div",[a("ul",{staticClass:"list-group mb-4"},[a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v(" Status "),a("status-graph",{staticStyle:{width:"50%"},attrs:{value:s,colours:t.colourShard}})],1),a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v(" Uptime "),a("span",{staticClass:"badge bg-dark rounded-pill"},[t._v(t._s(t.since(s.uptime)))])]),a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v(" Shards "),a("span",{staticClass:"badge bg-dark rounded-pill"},[t._v(t._s(Object.keys(s.shard_ids).length)+"/"+t._s(s.shard_count))])]),a("li",{staticClass:"list-group-item d-flex justify-content-between align-items-center"},[t._v(" Average Latency "),a("span",{staticClass:"badge bg-dark rounded-pill"},[t._v(t._s(t.calculateAverageShardGroup(s))+" ms")])])]),s.error?a("div",[a("div",{staticClass:"p-3 mb-2 bg-danger text-white"},[t._v(" "+t._s(s.error)+" ")])]):t._e(),s.shard_count>4*e.gateway.shards?a("div",[a("div",{staticClass:"p-3 mb-2 bg-info text-white"},[t._v(" You are launching this shardgroup with an unnecessarily large number of shards. This may cause the shardgroup to take longer to become ready. It is recommend you use a smaller number closer to the recommended shard count of 1 shard per 1000 guilds which is "),a("b",[t._v(t._s(e.gateway.shards))]),t._v(". ")])]):t._e(),a("table",{staticClass:"table table-borderless"},[t._m(14,!0),a("tbody",t._l(s.shards,(function(e,s){return a("tr",{key:s,staticClass:"table-default"},[a("th",{attrs:{scope:"row"}},[t._v(t._s(e.shard_id))]),a("td",[a("span",{class:"badge bg-"+t.colourShard[e.status]},[t._v(t._s(t.statusShard[e.status]))])]),a("td",[t._v(" "+t._s(new Date(e.last_heartbeat_ack)-new Date(e.last_heartbeat_sent))+"ms ")])])})),0)])]):t._e()])}))],2),a("div",{staticClass:"tab-pane fade",attrs:{id:"manager-"+e.configuration.identifier+"-pills-settings",role:"tabpanel","aria-labelledby":"manager-"+e.configuration.identifier+"-pills-settings-tab"}},[a("ul",{staticClass:"nav nav-tabs",attrs:{id:"tabpanel",role:"tablist"}},[a("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[a("a",{staticClass:"nav-link active",attrs:{id:"general-tab","data-toggle":"tab",href:"#manager-"+e.configuration.identifier+"-Settings-general",role:"tab","aria-selected":"true"}},[t._v("General")])]),a("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[a("a",{staticClass:"nav-link",attrs:{id:"bot-tab","data-toggle":"tab",href:"#manager-"+e.configuration.identifier+"-Settings-bot",role:"tab","aria-selected":"false"}},[t._v("Bot")])]),a("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[a("a",{staticClass:"nav-link",attrs:{id:"caching-tab","data-toggle":"tab",href:"#manager-"+e.configuration.identifier+"-Settings-caching",role:"tab","aria-selected":"false"}},[t._v("Caching")])]),a("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[a("a",{staticClass:"nav-link",attrs:{id:"events-tab","data-toggle":"tab",href:"#manager-"+e.configuration.identifier+"-Settings-events",role:"tab","aria-selected":"false"}},[t._v("Events")])]),a("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[a("a",{staticClass:"nav-link",attrs:{id:"messaging-tab","data-toggle":"tab",href:"#manager-"+e.configuration.identifier+"-Settings-messaging",role:"tab","aria-selected":"false"}},[t._v("Messaging")])]),a("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[a("a",{staticClass:"nav-link",attrs:{id:"sharding-tab","data-toggle":"tab",href:"#manager-"+e.configuration.identifier+"-Settings-sharding",role:"tab","aria-selected":"false"}},[t._v("Sharding")])]),a("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[a("a",{staticClass:"nav-link",attrs:{id:"raw-tab","data-toggle":"tab",href:"#manager-"+e.configuration.identifier+"-Settings-raw",role:"tab","aria-selected":"false"}},[t._v("RAW (Read Only)")])])]),a("div",{staticClass:"tab-content p-5",attrs:{id:"pills-managerSettings"}},[a("div",{staticClass:"tab-pane fade show active",attrs:{id:"manager-"+e.configuration.identifier+"-Settings-general",role:"tabpanel","aria-labelledby":"general-tab"}},[a("div",{staticClass:"pb-4"},[a("form-input",{attrs:{type:"checkbox",id:"managerConfig-"+e.configuration.identifier+"-autostart",label:"Auto Start"},model:{value:e.configuration.auto_start,callback:function(a){t.$set(e.configuration,"auto_start",a)},expression:"manager.configuration.auto_start"}}),a("p",{staticClass:"text-muted"},[t._v(" When enabled, the Manager will start up a shardgroup automatically. ")]),a("form-input",{attrs:{type:"checkbox",id:"managerConfig-"+e.configuration.identifier+"-persist",label:"Persist"},model:{value:e.configuration.persist,callback:function(a){t.$set(e.configuration,"persist",a)},expression:"manager.configuration.persist"}}),a("p",{staticClass:"text-muted"},[t._v(" When enabled, changes to Manager will be saved else the configuration will be discarded when the daemon is next started. ")])],1),a("form-input",{attrs:{type:"text",id:"managerConfig-"+e.configuration.identifier+"-identifier",label:"Identifier",disabled:!0},model:{value:e.configuration.identifier,callback:function(a){t.$set(e.configuration,"identifier",a)},expression:"manager.configuration.identifier"}}),t._m(15,!0),a("form-input",{attrs:{type:"text",id:"managerConfig-"+e.configuration.identifier+"-display_name",label:"Display Name"},model:{value:e.configuration.display_name,callback:function(a){t.$set(e.configuration,"display_name",a)},expression:"manager.configuration.display_name"}}),a("form-input",{attrs:{type:"password",id:"managerConfig-"+e.configuration.identifier+"-token",label:"Token"},model:{value:e.configuration.token,callback:function(a){t.$set(e.configuration,"token",a)},expression:"manager.configuration.token"}}),a("form-submit",{on:{click:function(a){return t.saveClusterSettings(e)}}})],1),a("div",{staticClass:"tab-pane fade",attrs:{id:"manager-"+e.configuration.identifier+"-Settings-bot",role:"tabpanel","aria-labelledby":"bot-tab"}},[a("div",{staticClass:"pb-4"},[a("form-input",{attrs:{type:"checkbox",id:"managerConfig-"+e.configuration.identifier+"-bot.compression",label:"Compression"},model:{value:e.configuration.bot.compression,callback:function(a){t.$set(e.configuration.bot,"compression",a)},expression:"manager.configuration.bot.compression"}}),a("p",{staticClass:"text-muted"},[t._v(" Enables zstd compression on the gateway websocket. Recommended. ")]),a("form-input",{attrs:{type:"checkbox",id:"managerConfig-"+e.configuration.identifier+"-bot.guild_subscriptions",label:"Guild Subscriptions"},model:{value:e.configuration.bot.guild_subscriptions,callback:function(a){t.$set(e.configuration.bot,"guild_subscriptions",a)},expression:"\n                                manager.configuration.bot.guild_subscriptions\n                              "}}),t._m(16,!0)],1),a("form-input",{attrs:{type:"presence",id:"managerConfig-"+e.configuration.identifier+"-bot.presence",label:"Presence"},model:{value:e.configuration.bot.presence,callback:function(a){t.$set(e.configuration.bot,"presence",a)},expression:"manager.configuration.bot.presence"}}),a("form-input",{attrs:{type:"intent",id:"managerConfig-"+e.configuration.identifier+"-bot.intents",label:"Intents"},model:{value:e.configuration.bot.intents,callback:function(a){t.$set(e.configuration.bot,"intents",a)},expression:"manager.configuration.bot.intents"}}),a("form-input",{attrs:{type:"number",id:"managerConfig-"+e.configuration.identifier+"-bot.large_threshold",label:"Large Threshold"},model:{value:e.configuration.bot.large_threshold,callback:function(a){t.$set(e.configuration.bot,"large_threshold",a)},expression:"\n                              manager.configuration.bot.large_threshold\n                            "}}),a("form-input",{attrs:{type:"number",id:"managerConfig-"+e.configuration.identifier+"-bot.max_heartbeat_failures",label:"Max Heartbeat Failures"},model:{value:e.configuration.bot.max_heartbeat_failures,callback:function(a){t.$set(e.configuration.bot,"max_heartbeat_failures",a)},expression:"\n                              manager.configuration.bot.max_heartbeat_failures\n                            "}}),a("p",{staticClass:"text-muted"},[t._v(" Amount of heartbeat durations until the bot forcibly reconnects. 5 is recommended. ")]),a("form-input",{attrs:{type:"number",id:"managerConfig-"+e.configuration.identifier+"-bot.retries",label:"Retries"},model:{value:e.configuration.bot.retries,callback:function(a){t.$set(e.configuration.bot,"retries",a)},expression:"manager.configuration.bot.retries"}}),a("p",{staticClass:"text-muted"},[t._v(" Amount of reconnects to attempt before giving up. Recommended to be more than 1 in the event it fails when starting up a ShardGroup causing all other shards to die. ")]),a("form-submit",{on:{click:function(a){return t.saveClusterSettings(e)}}})],1),a("div",{staticClass:"tab-pane fade",attrs:{id:"manager-"+e.configuration.identifier+"-Settings-caching",role:"tabpanel","aria-labelledby":"caching-tab"}},[a("div",{staticClass:"pb-4"},[a("form-input",{attrs:{type:"checkbox",id:"managerConfig-"+e.configuration.identifier+"-caching.cache_users",label:"Cache Users"},model:{value:e.configuration.caching.cache_users,callback:function(a){t.$set(e.configuration.caching,"cache_users",a)},expression:"\n                                manager.configuration.caching.cache_users\n                              "}}),a("p",{staticClass:"text-muted"},[t._v(" If enabled, users will be cached on redis. ")]),a("form-input",{attrs:{type:"checkbox",id:"managerConfig-"+e.configuration.identifier+"-caching.cache_members",label:"Cache Members"},model:{value:e.configuration.caching.cache_members,callback:function(a){t.$set(e.configuration.caching,"cache_members",a)},expression:"\n                                manager.configuration.caching.cache_members\n                              "}}),a("p",{staticClass:"text-muted"},[t._v(" If enabled, members will be cached on redis. ")]),a("form-input",{attrs:{type:"checkbox",id:"managerConfig-"+e.configuration.identifier+"-caching.request_members",label:"Request Members"},model:{value:e.configuration.caching.request_members,callback:function(a){t.$set(e.configuration.caching,"request_members",a)},expression:"\n                                manager.configuration.caching.request_members\n                              "}}),t._m(17,!0),a("form-input",{attrs:{type:"checkbox",id:"managerConfig-"+e.configuration.identifier+"-caching.store_mutuals",label:"Store Mutuals"},model:{value:e.configuration.caching.store_mutuals,callback:function(a){t.$set(e.configuration.caching,"store_mutuals",a)},expression:"\n                                manager.configuration.caching.store_mutuals\n                              "}}),a("p",{staticClass:"text-muted"},[t._v(" If enabled, guild ids a member is on is stored on redis. ")])],1),a("form-input",{attrs:{type:"text",id:"managerConfig-"+e.configuration.identifier+"-caching.redis_prefix",label:"Redis Prefix"},model:{value:e.configuration.caching.redis_prefix,callback:function(a){t.$set(e.configuration.caching,"redis_prefix",a)},expression:"\n                              manager.configuration.caching.redis_prefix\n                            "}}),a("p",{staticClass:"text-muted"},[t._v(" String all redis requests will be pre-pended with {PREFIX}:{KEY}. Useful when wanting to separate managers from each other. Having multiple managers with the same key can cause destruction. ")]),a("form-input",{attrs:{type:"number",id:"managerConfig-"+e.configuration.identifier+"-caching.request_chunk_size",label:"Request Chunk Size"},model:{value:e.configuration.caching.request_chunk_size,callback:function(a){t.$set(e.configuration.caching,"request_chunk_size",a)},expression:"\n                              manager.configuration.caching.request_chunk_size\n                            "}}),a("p",{staticClass:"text-muted"},[t._v(" Number of guilds to request in a REQUEST_GUILD_MEMBERS request. With the new changes, this should be set to 1. Sending more than 1 when it limits to 1 will not fail but will only sent the members of the first ID specified. ")]),a("form-submit",{on:{click:function(a){return t.saveClusterSettings(e)}}})],1),a("div",{staticClass:"tab-pane fade",attrs:{id:"manager-"+e.configuration.identifier+"-Settings-events",role:"tabpanel","aria-labelledby":"events-tab"}},[a("p",{staticClass:"text-muted"},[t._v(" Changes to events will be reflected when a new shardgroup is made ")]),a("div",{staticClass:"pb-4"},[a("form-input",{attrs:{type:"checkbox",id:"managerConfig-"+e.configuration.identifier+"-events.ignore_bots",label:"Ignore Bots"},model:{value:e.configuration.events.ignore_bots,callback:function(a){t.$set(e.configuration.events,"ignore_bots",a)},expression:"\n                                manager.configuration.events.ignore_bots\n                              "}}),a("p",{staticClass:"text-muted"},[t._v(" When enabled, consumers will not receive MESSAGE_CREATE events if the author is a bot ")]),a("form-input",{attrs:{type:"checkbox",id:"managerConfig-"+e.configuration.identifier+"-events.check_prefixes",label:"Check Prefixes"},model:{value:e.configuration.events.check_prefixes,callback:function(a){t.$set(e.configuration.events,"check_prefixes",a)},expression:"\n                                manager.configuration.events.check_prefixes\n                              "}}),a("p",{staticClass:"text-muted"},[t._v(" When enabled, consumers will receive only MESSAGE_CREATE events that start with a defined prefix. The prefix is determined from a HGET to {REDIS_PREFIX}:prefix with the guild id as a key. ")]),a("form-input",{attrs:{type:"checkbox",id:"managerConfig-"+e.configuration.identifier+"-events.allow_mention_prefix",label:"Allow Mention Prefix"},model:{value:e.configuration.events.allow_mention_prefix,callback:function(a){t.$set(e.configuration.events,"allow_mention_prefix",a)},expression:"\n                                manager.configuration.events\n                                  .allow_mention_prefix\n                              "}})],1),a("form-input",{attrs:{type:"text",id:"managerConfig-"+e.configuration.identifier+"-events.fallback_prefix",label:"Fallback Prefix",placeholder:"No prefix"},model:{value:e.configuration.events.fallback_prefix,callback:function(a){t.$set(e.configuration.events,"fallback_prefix",a)},expression:"\n                              manager.configuration.events.fallback_prefix\n                            "}}),a("p",{staticClass:"text-muted"},[t._v(" If the daemon is unable to fetch a custom prefix from redis, it will use the fallback prefix and mention prefix (if enabled). If fallback prefix is left empty, it will not allow any message to be used as a command. ")]),a("form-input",{attrs:{type:"list",id:"managerConfig-"+e.configuration.identifier+"-events.event_blacklist",label:"Event Blacklist"},model:{value:e.configuration.events.event_blacklist,callback:function(a){t.$set(e.configuration.events,"event_blacklist",a)},expression:"\n                              manager.configuration.events.event_blacklist\n                            "}}),a("p",{staticClass:"text-muted"},[t._v(" Events in event blacklist are completely ignored by Sandwich Daemon. It is recommended you instead use Intents to stop events as it still has to process the events. ")]),a("form-input",{attrs:{type:"list",id:"managerConfig-"+e.configuration.identifier+"-events.produce_blacklist",label:"Produce Blacklist"},model:{value:e.configuration.events.produce_blacklist,callback:function(a){t.$set(e.configuration.events,"produce_blacklist",a)},expression:"\n                              manager.configuration.events.produce_blacklist\n                            "}}),a("p",{staticClass:"text-muted"},[t._v(" Events in produce blacklist are processed (cached etc.) however are not relayed to consumers. Useful for reducing events that the consumers unnecessarily need but you still need for cache purposes. ")]),a("form-submit",{on:{click:function(a){return t.saveClusterSettings(e)}}})],1),a("div",{staticClass:"tab-pane fade",attrs:{id:"manager-"+e.configuration.identifier+"-Settings-messaging",role:"tabpanel","aria-labelledby":"messaging-tab"}},[a("div",{staticClass:"pb-4"},[a("form-input",{attrs:{type:"checkbox",id:"managerConfig-"+e.configuration.identifier+"-messaging.use_random_suffix",label:"Use Random Suffix"},model:{value:e.configuration.messaging.use_random_suffix,callback:function(a){t.$set(e.configuration.messaging,"use_random_suffix",a)},expression:"\n                                manager.configuration.messaging\n                                  .use_random_suffix\n                              "}}),a("p",{staticClass:"text-muted"},[t._v(" When enabled, the client name will have a random suffix added. Useful if you have multiple managers using the same client name. ")])],1),a("form-input",{attrs:{type:"text",id:"managerConfig-"+e.configuration.identifier+"-messaging.client_name",label:"Client Name"},model:{value:e.configuration.messaging.client_name,callback:function(a){t.$set(e.configuration.messaging,"client_name",a)},expression:"\n                              manager.configuration.messaging.client_name\n                            "}}),t._m(18,!0),a("form-input",{attrs:{type:"text",id:"managerConfig-"+e.configuration.identifier+"-messaging.channel_name",label:"Channel Name"},model:{value:e.configuration.messaging.channel_name,callback:function(a){t.$set(e.configuration.messaging,"channel_name",a)},expression:"\n                              manager.configuration.messaging.channel_name\n                            "}}),a("p",{staticClass:"text-muted"},[t._v(" Custom definition of the channel the manager will use. If empty, it will use the configuration in daemon.nats.channel which managers should use by default. ")]),a("form-submit",{on:{click:function(a){return t.saveClusterSettings(e)}}})],1),a("div",{staticClass:"tab-pane fade",attrs:{id:"manager-"+e.configuration.identifier+"-Settings-sharding",role:"tabpanel","aria-labelledby":"sharding-tab"}},[a("div",{staticClass:"pb-4"},[a("form-input",{attrs:{type:"checkbox",id:"managerConfig-"+e.configuration.identifier+"-sharding.auto_sharded",label:"AutoSharded"},model:{value:e.configuration.sharding.auto_sharded,callback:function(a){t.$set(e.configuration.sharding,"auto_sharded",a)},expression:"\n                                manager.configuration.sharding.auto_sharded\n                              "}}),a("p",{staticClass:"text-muted"},[t._v(" If enabled, will set the shard count to what is recommended on the gateway ")])],1),a("form-input",{attrs:{type:"number",id:"managerConfig-"+e.configuration.identifier+"-sharding.shard_count",label:"Shard Count"},model:{value:e.configuration.sharding.shard_count,callback:function(a){t.$set(e.configuration.sharding,"shard_count",a)},expression:"\n                              manager.configuration.sharding.shard_count\n                            "}}),a("p",{staticClass:"text-muted"},[t._v(" Shard Count to launch shard groups with. Be aware this has no security and if it has not supplied enough shards, it will error. It is recommended you use autosharded, enabling autosharded will overwrite this value. ")]),a("form-input",{attrs:{type:"number",id:"managerConfig-"+e.configuration.identifier+"-sharding.manager_count",label:"Cluster Count"},model:{value:e.configuration.sharding.manager_count,callback:function(a){t.$set(e.configuration.sharding,"manager_count",a)},expression:"\n                              manager.configuration.sharding.manager_count\n                            "}}),t._m(19,!0),a("form-input",{attrs:{type:"number",id:"managerConfig-"+e.configuration.identifier+"-sharding.manager_id",label:"Cluster ID"},model:{value:e.configuration.sharding.manager_id,callback:function(a){t.$set(e.configuration.sharding,"manager_id",a)},expression:"\n                              manager.configuration.sharding.manager_id\n                            "}}),t._m(20,!0),a("form-submit",{on:{click:function(a){return t.saveClusterSettings(e)}}})],1),a("div",{staticClass:"tab-pane fade",attrs:{id:"manager-"+e.configuration.identifier+"-Settings-raw",role:"tabpanel","aria-labelledby":"raw-tab"}},[a("pre",[t._v(t._s(e))])])])])])])])])])])}))],2),a("div",{staticClass:"tab-pane fade",attrs:{id:"pills-settings",role:"tabpanel","aria-labelledby":"pills-settings-tab"}},[a("form",{on:{submit:function(t){t.preventDefault()}}},[t._m(21),a("div",{staticClass:"tab-content p-5",attrs:{id:"pills-daemonSettings"}},[a("div",{staticClass:"tab-pane fade show active",attrs:{id:"daemonSettings-logging",role:"tabpanel","aria-labelledby":"logging-tab"}},[a("div",{staticClass:"pb-4"},[a("form-input",{attrs:{type:"checkbox",id:"loggingConsoleLogging",label:"Console Logging"},model:{value:t.daemon.configuration.logging.console_logging,callback:function(e){t.$set(t.daemon.configuration.logging,"console_logging",e)},expression:"daemon.configuration.logging.console_logging"}}),a("p",{staticClass:"text-muted"},[t._v(" If enabled, logs will be shown in console. ")]),a("form-input",{attrs:{type:"checkbox",id:"loggingFileLogging",label:"File Logging"},model:{value:t.daemon.configuration.logging.file_logging,callback:function(e){t.$set(t.daemon.configuration.logging,"file_logging",e)},expression:"daemon.configuration.logging.file_logging"}}),a("p",{staticClass:"text-muted"},[t._v(" If enabled, logs will be saved to a file. ")]),a("form-input",{attrs:{type:"checkbox",id:"loggingEncodeAsJson",label:"Encode as JSON"},model:{value:t.daemon.configuration.logging.encode_as_json,callback:function(e){t.$set(t.daemon.configuration.logging,"encode_as_json",e)},expression:"daemon.configuration.logging.encode_as_json"}}),a("p",{staticClass:"text-muted"},[t._v(" If enabled, text will be encoded as json instead of human readable. ")])],1),a("form-input",{attrs:{type:"text",id:"loggingDirectory",label:"Directory"},model:{value:t.daemon.configuration.logging.directory,callback:function(e){t.$set(t.daemon.configuration.logging,"directory",e)},expression:"daemon.configuration.logging.directory"}}),a("form-input",{attrs:{type:"text",id:"loggingFilename",label:"Filename"},model:{value:t.daemon.configuration.logging.filename,callback:function(e){t.$set(t.daemon.configuration.logging,"filename",e)},expression:"daemon.configuration.logging.filename"}}),a("form-input",{attrs:{type:"number",id:"loggingMaxSize",label:"Max Size"},model:{value:t.daemon.configuration.logging.max_size,callback:function(e){t.$set(t.daemon.configuration.logging,"max_size",e)},expression:"daemon.configuration.logging.max_size"}}),t._m(22),a("form-input",{attrs:{type:"number",id:"loggingMaxBackups",label:"Max Backups"},model:{value:t.daemon.configuration.logging.max_backups,callback:function(e){t.$set(t.daemon.configuration.logging,"max_backups",e)},expression:"daemon.configuration.logging.max_backups"}}),a("p",{staticClass:"text-muted"},[t._v(" Max number of log files before old ones are deleted. ")]),a("form-input",{attrs:{type:"number",id:"loggingMaxAge",label:"Max Age"},model:{value:t.daemon.configuration.logging.max_age,callback:function(e){t.$set(t.daemon.configuration.logging,"max_age",e)},expression:"daemon.configuration.logging.max_age"}}),a("p",{staticClass:"text-muted"},[t._v(" Number of days that a log file can exist before it is removed. ")]),a("form-submit",{on:{click:function(e){return t.saveDaemonSettings()}}})],1),a("div",{staticClass:"tab-pane fade",attrs:{id:"daemonSettings-resttunnel",role:"tabpanel","aria-labelledby":"resttunnel-tab"}},[t._m(23),a("p",{staticClass:"text-muted"},[t._v(" RestTunnel enabled: "),a("b",[t._v(t._s(t.daemon.rest_tunnel_enabled))])]),a("div",{staticClass:"pb-4"},[a("form-input",{attrs:{type:"checkbox",id:"restTunnelEnabled",label:"Enabled"},model:{value:t.daemon.configuration.resttunnel.enabled,callback:function(e){t.$set(t.daemon.configuration.resttunnel,"enabled",e)},expression:"daemon.configuration.resttunnel.enabled"}})],1),a("form-input",{attrs:{type:"text",id:"restTunnelURL",placeholder:"http://127.0.0.1:8000",label:"URL"},model:{value:t.daemon.configuration.resttunnel.url,callback:function(e){t.$set(t.daemon.configuration.resttunnel,"url",e)},expression:"daemon.configuration.resttunnel.url"}}),a("button",{staticClass:"btn btn-dark mr-1",attrs:{type:"button"},on:{click:function(e){return t.saveDaemonSettings()}}},[t._v(" Save Changes ")]),a("button",{staticClass:"btn btn-dark mr-1",attrs:{type:"button"},on:{click:function(e){return t.verifyRestTunnel()}}},[t._v(" Verify RestTunnel ")])],1),a("div",{staticClass:"tab-pane fade",attrs:{id:"daemonSettings-access",role:"tabpanel","aria-labelledby":"access-tab"}},[a("p",{staticClass:"text-muted"},[t._v(" Access allows you to manage who has access to the dashboard ")]),a("div",{staticClass:"pb-4"},[a("form-input",{attrs:{type:"checkbox",id:"httpPublic",label:"Public Access"},model:{value:t.daemon.configuration.http.public,callback:function(e){t.$set(t.daemon.configuration.http,"public",e)},expression:"daemon.configuration.http.public"}}),t._m(24)],1),a("ul",{staticClass:"list-group mt-3 mb-2"},[a("li",{staticClass:"list-group-item list-group-item-dark"},[t._v(" Users ("+t._s(t.daemon.configuration.elevated_users.length)+") ")]),t._l(t.daemon.configuration.elevated_users,(function(e,s){return a("li",{key:s,staticClass:"list-group-item"},[t._v(" "+t._s(e)+" ")])}))],2),a("form-input",{attrs:{type:"number",id:"elevatedUsers",label:"",placeholder:"Discord user ID"},model:{value:t.userid,callback:function(e){t.userid=e},expression:"userid"}}),a("form-submit",{attrs:{label:"Remove User"},on:{click:function(e){t.daemon.configuration.elevated_users=t.daemon.configuration.elevated_users.filter((function(e){return e!==t.userid}))}}}),a("form-submit",{attrs:{label:"Add User"},on:{click:function(e){t.daemon.configuration.elevated_users.includes(t.userid)||t.daemon.configuration.elevated_users.push(t.userid)}}}),a("p",{staticClass:"text-muted"},[t._v(" List of discord user IDs who are able to manage the settings on the dashboard. Only give this to users you trust. ")]),a("form-submit",{on:{click:function(e){return t.saveDaemonSettings()}}})],1),a("div",{staticClass:"tab-pane fade",attrs:{id:"daemonSettings-redis",role:"tabpanel","aria-labelledby":"redis-tab"}},[a("p",{staticClass:"text-muted"},[t._v(" Redis is the driver that handles caching of objects within Sandwich Daemon. This allows for multiple programs to share and interact with the same cache without passing on the objects in messages or using RPC. ")]),a("div",{staticClass:"pb-4"},[a("form-input",{attrs:{type:"checkbox",id:"redisUniqueClients",label:"Unique Clients"},model:{value:t.daemon.configuration.redis.unique_clients,callback:function(e){t.$set(t.daemon.configuration.redis,"unique_clients",e)},expression:"daemon.configuration.redis.unique_clients"}})],1),a("p",{staticClass:"text-muted"},[t._v(" If enabled, each Manager will have their own redis connection else they will share the same connection. ")]),a("form-input",{attrs:{type:"text",id:"redisAddress",label:"Address"},model:{value:t.daemon.configuration.redis.address,callback:function(e){t.$set(t.daemon.configuration.redis,"address",e)},expression:"daemon.configuration.redis.address"}}),a("form-input",{attrs:{type:"password",id:"redisPassword",label:"Password"},model:{value:t.daemon.configuration.redis.password,callback:function(e){t.$set(t.daemon.configuration.redis,"password",e)},expression:"daemon.configuration.redis.password"}}),a("form-input",{attrs:{type:"number",id:"redisDB",label:"Database"},model:{value:t.daemon.configuration.redis.database,callback:function(e){t.$set(t.daemon.configuration.redis,"database",e)},expression:"daemon.configuration.redis.database"}}),a("form-submit",{on:{click:function(e){return t.saveDaemonSettings()}}})],1),a("div",{staticClass:"tab-pane fade",attrs:{id:"daemonSettings-nats",role:"tabpanel","aria-labelledby":"nats-tab"}},[a("p",{staticClass:"text-muted"},[t._v(" NATs is the driver that allows for consumers to process the messages that are sent by the Daemon. This ensures that the consumers receive their messages and they only receive it once. ")]),a("form-input",{attrs:{type:"text",id:"natsAddress",label:"Address"},model:{value:t.daemon.configuration.nats.address,callback:function(e){t.$set(t.daemon.configuration.nats,"address",e)},expression:"daemon.configuration.nats.address"}}),a("form-input",{attrs:{type:"text",id:"natsChannel",label:"Channel"},model:{value:t.daemon.configuration.nats.channel,callback:function(e){t.$set(t.daemon.configuration.nats,"channel",e)},expression:"daemon.configuration.nats.channel"}}),a("form-input",{attrs:{type:"text",id:"natsCluster",label:"Cluster"},model:{value:t.daemon.configuration.nats.manager,callback:function(e){t.$set(t.daemon.configuration.nats,"manager",e)},expression:"daemon.configuration.nats.manager"}}),a("form-submit",{on:{click:function(e){return t.saveDaemonSettings()}}})],1),a("div",{staticClass:"tab-pane fade",attrs:{id:"daemonSettings-http",role:"tabpanel","aria-labelledby":"http-tab"}},[a("div",{staticClass:"pb-4"},[a("form-input",{attrs:{type:"checkbox",id:"httpEnabled",label:"Enabled"},model:{value:t.daemon.configuration.http.enabled,callback:function(e){t.$set(t.daemon.configuration.http,"enabled",e)},expression:"daemon.configuration.http.enabled"}}),a("p",{staticClass:"text-muted"},[t._v(" Disabling HTTP will still show the web interface however will shown an error. ")])],1),a("form-input",{attrs:{type:"text",id:"httpHost",label:"Host"},model:{value:t.daemon.configuration.http.host,callback:function(e){t.$set(t.daemon.configuration.http,"host",e)},expression:"daemon.configuration.http.host"}}),t._m(25),a("form-input",{attrs:{type:"password",id:"httpSecret",label:"Session Secret"},model:{value:t.daemon.configuration.http.secret,callback:function(e){t.$set(t.daemon.configuration.http,"secret",e)},expression:"daemon.configuration.http.secret"}}),t._m(26),a("form-submit",{on:{click:function(e){return t.saveDaemonSettings()}}})],1),a("div",{staticClass:"tab-pane fade",attrs:{id:"daemonSettings-raw",role:"tabpanel","aria-labelledby":"raw-tab"}},[a("pre",[t._v(t._s(t.daemon.configuration))])])])])])])]):a("div",[a("div",{staticClass:"text-center my-5"},[a("svg-icon",{staticClass:"mb-2 text-muted",attrs:{type:"mdi",width:64,height:64,path:t.mdiAlertCircle}}),a("h3",[t._v("You are not authenticated")]),a("p",{staticClass:"m-auto my-2 col-10 text-muted"},[t._v(" It seems you are not where you want to be... ")])],1)]),a("div",{staticStyle:{position:"relative","min-height":"200px"},attrs:{"aria-live":"polite","aria-atomic":"true"}},[a("div",{staticStyle:{position:"fixed",top:"20px",right:"20px"}},[a("div",{staticClass:"toast",attrs:{id:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true"}},[a("div",{staticClass:"toast-header"},[a("strong",{staticClass:"mr-auto"},[t._v(t._s(t.toast.title)+" ")]),t._m(27)]),a("div",{staticClass:"toast-body"},[t._v(" "+t._s(t.toast.body)+" ")])])])])])},L=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spinner-border mx-auto mt-5 d-flex",attrs:{role:"status"}},[a("span",{staticClass:"visually-hidden"},[t._v("Loading...")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-body"},[a("span",[t._v("Are you sure you want to kill this shard group?")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"createManagerDialogueLabel"}},[t._v(" New Manager ")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-sm-12 form-label"},[t._v("Identifier "),a("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-sm-12 form-label"},[t._v("Token "),a("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-sm-12 form-label"},[t._v("NATs Client Name "),a("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"form-check-label mb-2"},[t._v("Persist "),a("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"nav nav-pills mb-3",attrs:{id:"pills-tab",role:"tablist"}},[a("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[a("a",{staticClass:"nav-link active",attrs:{id:"pills-home-tab","data-toggle":"pill",href:"#pills-home",role:"tab","aria-controls":"pills-home","aria-selected":"true"}},[t._v("Analytics")])]),a("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[a("a",{staticClass:"nav-link",attrs:{id:"pills-managers-tab","data-toggle":"pill",href:"#pills-managers",role:"tab","aria-controls":"pills-managers","aria-selected":"false"}},[t._v("Managers")])]),a("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[a("a",{staticClass:"nav-link",attrs:{id:"pills-settings-tab bg-dark","data-toggle":"pill",href:"#pills-settings",role:"tab","aria-controls":"pills-settings","aria-selected":"false"}},[t._v("Daemon Settings")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-center"},[a("div",{staticClass:"spinner-border text-dark",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spinner-border text-dark",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"table-dark"},[a("th",{attrs:{scope:"col"}},[t._v("Shard")]),a("th",{attrs:{scope:"col"}},[t._v("Status")]),a("th",{attrs:{scope:"col"}},[t._v("RTT Latency")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-muted"},[a("b",[t._v("You cannot modify the identifier as that can possibly break many things.")]),t._v(" The name the manager is internally referenced by. NATs packets will also include this identifier in its messages. ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-muted"},[a("b",[t._v("Not recommended, use intents.")]),t._v(" Events such as PRESENCE_UPDATE, TYPING, GUILD_MEMBER_JOIN etc. are not sent to the bot. ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-muted"},[a("b",[t._v("Due to the new intent changes, enabling this on larger bots is not recommended.")]),t._v(" If enabled, guild members will be requested when lazy loading. ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-muted"},[t._v(" Name of the client the manager uses. "),a("b",[t._v("Client names must be unique.")]),t._v(" If you are using multiple managers with the same client name, it is recommended you use separate client names or enable random suffix. ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-muted"},[a("b",[t._v("Use if you have multiple daemons running. This must be the same number on all daemons and starts from 0.")]),t._v(" Total number of managers running. ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-muted"},[a("b",[t._v("Use if you have multiple daemons running. This must be a different number on all daemons.")]),t._v(" Cluster ID of current daemon. With only 1 manager, this ID must be 0 similarly to how shard count and shard ID works. ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"nav nav-tabs",attrs:{id:"tabpanel",role:"tablist"}},[a("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[a("a",{staticClass:"nav-link active",attrs:{id:"logging-tab","data-toggle":"tab",href:"#daemonSettings-logging",role:"tab","aria-selected":"true"}},[t._v("Logging")])]),a("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[a("a",{staticClass:"nav-link",attrs:{id:"access-tab","data-toggle":"tab",href:"#daemonSettings-access",role:"tab","aria-selected":"false"}},[t._v(" Access ")])]),a("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[a("a",{staticClass:"nav-link",attrs:{id:"redis-tab","data-toggle":"tab",href:"#daemonSettings-redis",role:"tab","aria-selected":"false"}},[t._v("Redis")])]),a("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[a("a",{staticClass:"nav-link",attrs:{id:"nats-tab","data-toggle":"tab",href:"#daemonSettings-nats",role:"tab","aria-selected":"false"}},[t._v("NATs")])]),a("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[a("a",{staticClass:"nav-link",attrs:{id:"http-tab","data-toggle":"tab",href:"#daemonSettings-http",role:"tab","aria-selected":"false"}},[t._v("HTTP")])]),a("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[a("a",{staticClass:"nav-link",attrs:{id:"resttunnel-tab","data-toggle":"tab",href:"#daemonSettings-resttunnel",role:"tab","aria-selected":"false"}},[a("b",[t._v("RestTunnel")])])]),a("li",{staticClass:"nav-item",attrs:{role:"presentation"}},[a("a",{staticClass:"nav-link",attrs:{id:"raw-tab","data-toggle":"tab",href:"#daemonSettings-raw",role:"tab","aria-selected":"false"}},[t._v("RAW (Read Only)")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-muted"},[a("b",[t._v("Stored in Megabytes.")]),t._v(" Max size each log can be before a new file is made. 0 is unlimited. ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-muted"},[t._v(" RestTunnel is a second-party application that is used in conjunction with Sandwich-Daemon to allow for centralized rate limit management for multiple systems. The Github repository can be found "),a("a",{attrs:{href:"https://github.com/TheRockettek/RestTunnel"}},[t._v("here")]),t._v(". ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-muted"},[t._v(" If enabled, users will not need elevation to access the internal API. "),a("b",[t._v("This should never need to be enabled.")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-muted"},[a("b",[t._v("It is recommended you keep this on a local IP such as localhost or 127.0.0.1 or disable public access in the Access tab.")]),t._v(" Entering 0.0.0.0 or the devices IP will make it accessable to users outside of the local network. Ensure you disable public access in the Access tab. ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-muted"},[t._v(" Secret to use for encrypting user sessions. "),a("b",[t._v("Changing this will log you out")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"ml-2 mb-1 close",attrs:{type:"button","data-dismiss":"toast","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])}],U=a("bc3a"),q=a.n(U),B=a("7b17"),z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col justify-content-center d-flex"},[a("div",{class:t.bg+" card text-white m-1",staticStyle:{width:"18rem"}},[a("div",{staticClass:"card-header"},[t._v(t._s(t.title))]),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(t._s(t.value))])])])])},V=[],F={name:"CardDisplay",props:["title","value","bg"]},H=F,J=Object(p["a"])(H,z,V,!1,null,null,null),W=J.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["checkbox"==t.type?a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"checkbox",id:t.id,disabled:t.disabled},domProps:{checked:t.value},on:{change:function(e){return t.updateValue(e.target.checked)}}}),a("label",{staticClass:"form-check-label",attrs:{for:t.id}},[t._v(t._s(t.label))])]):"text"==t.type?a("div",{staticClass:"mb-3"},[t.label?a("label",{staticClass:"col-sm-12 form-label",attrs:{for:t.id}},[t._v(t._s(t.label))]):t._e(),a("input",{staticClass:"form-control",attrs:{type:"text",id:t.id,disabled:t.disabled,placeholder:t.placeholder},domProps:{value:t.value},on:{change:function(e){return t.updateValue(e.target.value)}}})]):"list"==t.type?a("div",{staticClass:"mb-3"},[t.label?a("label",{staticClass:"col-sm-12 form-label",attrs:{for:t.id}},[t._v(t._s(t.label))]):t._e(),a("input",{staticClass:"form-control",attrs:{type:"text",id:t.id,placeholder:"A,B,C",disabled:t.disabled},domProps:{value:t.value},on:{change:function(e){t.updateValue(Array.from(new Set(e.target.value.split(","))))}}})]):"number"==t.type?a("div",{staticClass:"mb-3"},[t.label?a("label",{staticClass:"col-sm-12 form-label",attrs:{for:t.id}},[t._v(t._s(t.label))]):t._e(),a("input",{staticClass:"form-control",attrs:{type:"number",id:t.id,disabled:t.disabled,placeholder:t.placeholder},domProps:{value:t.value},on:{change:function(e){t.updateValue(Number(e.target.value))}}})]):"password"==t.type?a("div",{staticClass:"mb-3"},[t.label?a("label",{staticClass:"col-sm-12 form-label",attrs:{for:t.id}},[t._v(t._s(t.label))]):t._e(),a("div",{staticClass:"input-group"},[a("input",{staticClass:"form-control",attrs:{type:"password",id:t.id,autocomplete:"",disabled:t.disabled,placeholder:t.placeholder},domProps:{value:t.value},on:{change:function(e){return t.updateValue(e.target.value)}}}),a("button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.value,expression:"value",arg:"copy"}],staticClass:"btn btn-outline-dark",attrs:{type:"button"}},[t._v(" Copy ")])])]):"select"==t.type?a("div",{staticClass:"mb-3"},[t.label?a("label",{staticClass:"col-sm-12 form-label",attrs:{for:t.id}},[t._v(t._s(t.label))]):t._e(),a("select",{staticClass:"form-select",attrs:{id:t.id,disabled:t.disabled},on:{change:function(e){return t.updateValue(e.target.value)}}},t._l(t.values,(function(e,s){return a("option",{key:s,attrs:{selected:"item == value"}},[t._v(t._s(e))])})),0)]):"intent"==t.type?a("div",{staticClass:"mb-3 row pb-4"},[a("label",{staticClass:"col-sm-3 form-label",attrs:{for:"managerBotIntents"}},[t._v(t._s(t.label))]),a("div",{staticClass:"col-sm-9"},[a("input",{staticClass:"form-control",attrs:{type:"number",min:"0",max:"32767",disabled:t.disabled},domProps:{value:t.value},on:{change:function(e){e.target.value=32767&e.target.value,t.updateValue(Number(e.target.value)),t.fromIntents(e.target.value)},input:function(e){t.updateValue(Number(e.target.value)),t.fromIntents(e.target.value)}}}),a("div",{staticClass:"form-row py-2"},t._l(this.intents,(function(e,s){return a("div",{key:s,staticClass:"form-check form-check-inline col-sm-8 col-md-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedIntent,expression:"selectedIntent"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:t.id+s},domProps:{value:s,checked:Array.isArray(t.selectedIntent)?t._i(t.selectedIntent,s)>-1:t.selectedIntent},on:{change:[function(e){var a=t.selectedIntent,n=e.target,i=!!n.checked;if(Array.isArray(a)){var r=s,o=t._i(a,r);n.checked?o<0&&(t.selectedIntent=a.concat([r])):o>-1&&(t.selectedIntent=a.slice(0,o).concat(a.slice(o+1)))}else t.selectedIntent=i},function(e){return t.calculateIntent()}]}}),a("label",{staticClass:"form-check-label",attrs:{for:"managerBotIntentBox"+s}},[t._v(t._s(e))])])})),0)])]):"presence"==t.type?a("div",{staticClass:"mb-3 row pb-4"},[a("label",{staticClass:"col-sm-3 col-form-label"},[t._v(t._s(t.label))]),a("div",{staticClass:"col-sm-9"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"col-sm-12 form-label",attrs:{for:t.id+"status"}},[t._v("Status")]),a("select",{staticClass:"form-select",attrs:{id:t.id+"status"},domProps:{value:t.value.status},on:{input:function(e){t.value.status=e.target.value}}},t._l(["","online","dnd","idle","invisible","offline"],(function(e){return a("option",{key:e,attrs:{disabled:!e},domProps:{selected:e==t.value}},[t._v(t._s(e))])})),0)]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"col-sm-12 form-label",attrs:{for:t.id+"name"}},[t._v("Name")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:t.id+"name"},domProps:{value:t.value.name},on:{input:function(e){t.value.name=e.target.value}}})]),a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"checkbox",id:t.id+"afk"},domProps:{checked:t.value.afk},on:{input:function(e){t.value.afk=e.target.checked}}}),a("label",{staticClass:"form-check-label",attrs:{for:t.id+"afk"}},[t._v("AFK")])])])]):a("span",{staticClass:"badge bg-warning text-dark"},[t._v('Invalid type "'+t._s(t.type)+'" for "'+t._s(t.id)+'"')])])},K=[],X={props:["type","id","label","values","value","disabled","placeholder"],data:function(){return{intents:["GUILDS","GUILD_MEMBERS","GUILD_BANS","GUILD_INTEGRATIONS","GUILD_EMOJIS","GUILD_WEBHOOKS","GUILD_INVITES","GUILD_VOICE_STATES","GUILD_PRESENCES","GUILD_MESSAGES","GUILD_MESSAGE_REACTIONS","GUILD_MESSAGE_TYPING","DIRECT_MESSAGES","DIRECT_MESSAGE_REACTIONS","DIRECT_MESSAGE_TYPING"],selectedIntent:[]}},mounted:function(){"intent"==this.type&&this.fromIntents(this.value)},methods:{calculateIntent(){this.intentValue=0,this.selectedIntent.forEach(t=>{this.intentValue+=1<<t}),this.updateValue(Number(this.intentValue))},fromIntents(t){var e=Number(t).toString(2).split("").reverse(),a=[];e.forEach((t,e)=>{"1"===t&&-1===this.selectedIntent.indexOf(t)&&a.push(e)}),this.selectedIntent=a},updateValue:function(t){this.$emit("input",t)}}},Q=X,Z=Object(p["a"])(Q,Y,K,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-dark mr-1",attrs:{type:"submit"},on:{click:t.onClick}},[t._v(" "+t._s(t.label)+" ")])},at=[],st={name:"FormSubmit",props:{label:{default:"Save Changes"}},methods:{onClick(){this.$emit("click")}}},nt=st,it=Object(p["a"])(nt,et,at,!1,null,null,null),rt=it.exports,ot=a("1fca"),lt={name:"LineChart",extends:ot["a"],mixins:[ot["b"].reactiveProp],props:["chartData","options"],mounted(){this.renderChart(this.chartData,this.options)}},ct=lt,dt=Object(p["a"])(ct,D,k,!1,null,null,null),ut=dt.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"progress"},t._l(this.keys,(function(e,s){return a("div",{key:s,class:"progress-bar bg-"+t.colours[s],style:"width: "+e/t.total*100+"%",attrs:{role:"progressbar","aria-valuenow":e/t.total*100,"aria-valuemin":"0","aria-valuemax":"100"}})})),0)},mt=[],ft=(a("ddb0"),{name:"StatusGraph",props:["value","colours"],data(){return{keys:{},total:0}},watch:{value:function(){this.loadValues()}},mounted(){this.loadValues()},methods:{loadValues(){this.keys={},this.total=0;var t=Object.values(this.value.shards);for(var e in t){var a=t[e];a.status in this.keys?this.keys[a.status]++:this.keys[a.status]=1,this.total++}this.$forceUpdate()}}}),pt=ft,ht=Object(p["a"])(pt,gt,mt,!1,null,null,null),bt=ht.exports,vt={components:{CardDisplay:W,FormInput:tt,FormSubmit:rt,LineChart:ut,StatusGraph:bt,SvgIcon:u["a"]},name:"Dashboard",data(){return{fetch_task:void 0,mdiAlertCircle:g["a"],version:"...",loading:!0,error:!1,userid:void 0,daemon:{rest_tunnel_enabled:!0,managers:[]},toast:{title:"",body:""},analytics:{chart:{},uptime:"...",visible:"...",events:"...",online:"...",colour:"bg-success"},loadingAnalytics:!0,resttunnel:{charts:{hits:{},misses:{},waiting:{},requests:{},callbacks:{},average_response:{}},numbers:{hits:0,misses:0,requests:0,waiting:0},uptime:"..."},loadingRestTunnel:!0,createShardGroupDialogueData:{manager:"",autoShard:!0,shardCount:1,autoIDs:!0,shardIDs:"",startImmediately:!0},stopShardGroupDialogueData:{manager:"",shardgroup:0},createManagerDialogueData:{identifier:"",persist:!0,token:"",prefix:"",client:"",channel:""},deleteManagerDialogueData:{confirm:"",manager:""},restartManagerDialogueData:{confirm:"",manager:""},statusShard:["Idle","Waiting","Connecting","Connected","Ready","Reconnecting","Closed"],colourShard:["dark","info","info","info","success","warn","secondary"],statusGroup:["Idle","Starting","Connecting","Ready","Replaced","Closing","Closed","Error"],colourGroup:["dark","info","info","success","info","warn","dark","danger"],colourCluster:["dark","info","info","success","warn","warn","dark","danger"],chartOptions:{ratelimitHits:{title:{display:!0,text:"Ratelimit Hits"},elements:{point:{radius:0},line:{tension:.2,borderJoinStyle:"round"}},scales:{yAxes:[{display:!0,labelString:"events",ticks:{fixedStepSize:1}}],xAxes:[{type:"time"}]},animation:{duration:0}},ratelimitMisses:{title:{display:!0,text:"Ratelimit Misses"},elements:{point:{radius:0},line:{tension:.2,borderJoinStyle:"round"}},scales:{yAxes:[{display:!0,labelString:"events",ticks:{fixedStepSize:1}}],xAxes:[{type:"time"}]},animation:{duration:0}},waitingRequests:{title:{display:!0,text:"Waiting requests"},elements:{point:{radius:0},line:{tension:.2,borderJoinStyle:"round"}},scales:{yAxes:[{display:!0,labelString:"events",ticks:{fixedStepSize:1}}],xAxes:[{type:"time"}]},animation:{duration:0}},totalRequests:{title:{display:!0,text:"Total requests"},elements:{point:{radius:0},line:{tension:.2,borderJoinStyle:"round"}},scales:{yAxes:[{display:!0,labelString:"events",ticks:{fixedStepSize:1}}],xAxes:[{type:"time"}]},animation:{duration:0}},callbackBuffer:{title:{display:!0,text:"Callback buffer"},elements:{point:{radius:0},line:{tension:.2,borderJoinStyle:"round"}},scales:{yAxes:[{display:!0,labelString:"events",ticks:{fixedStepSize:1}}],xAxes:[{type:"time"}]},animation:{duration:0}},averageResponse:{title:{display:!0,text:"Average response"},elements:{point:{radius:0},line:{tension:.2,borderJoinStyle:"round"}},scales:{yAxes:[{display:!0,labelString:"events",ticks:{beginAtZero:!0}}],xAxes:[{type:"time"}]},animation:{duration:0},tooltips:{callbacks:{label:function(t,e){return e.datasets[t.datasetIndex].label+": "+t.yLabel+"ms"}}}},events:{title:{display:!0,text:"Events"},elements:{point:{radius:0},line:{tension:.2,borderJoinStyle:"round"}},scales:{yAxes:[{display:!0,labelString:"events"}],xAxes:[{type:"time"}]},animation:{duration:0}}}}},filters:{pretty:function(t){return JSON.stringify(t,null,2)}},mounted(){this.toastModal=new B["b"](document.getElementById("toast"),{delay:2e3}),this.fetch_task=window.setInterval(()=>{this.fetchAnalytics(),this.fetchClustersData()},5e3),this.fetchConfiguration(),this.fetchAnalytics()},methods:{sendRPC(t,e,a){q.a.post("/api/rpc",{method:t,data:e,id:a}).then(e=>{var a=e.data.error;return e.data.success?this.showToast(t,"Executed successfuly"):this.showToast("Error executing "+t,a),e}).catch(t=>{console.log(t),this.showToast("Exception sending RPC",t)})},showToast(t,e){this.toast.title=t,this.toast.body=e,this.toastModal.show()},verifyRestTunnel(){this.sendRPC("daemon:verify_resttunnel")},saveClusterSettings(t){this.sendRPC("manager:update",t.configuration)},saveDaemonSettings(){this.sendRPC("daemon:update",this.daemon.configuration)},stopShardGroupDialogue(t,e){this.stopShardGroupDialogueModal=new B["a"](document.getElementById("stopShardGroupDialogue"),{}),this.stopShardGroupDialogueData.manager=t,this.stopShardGroupDialogueData.shardgroup=e,this.stopShardGroupDialogueModal.show()},stopShardGroup(){var t=Object.assign({},this.stopShardGroupDialogueData);this.sendRPC("manager:shardgroup:stop",t),setTimeout(()=>this.fetchClustersData(),1e3),this.stopShardGroupDialogueModal.hide()},deleteShardGroup(t,e){var a={manager:t,shardgroup:e};this.sendRPC("manager:shardgroup:delete",a),setTimeout(()=>this.fetchClustersData(),1e3)},refreshGateway(t){var e={manager:t};this.sendRPC("manager:refresh_gateway",e),setTimeout(()=>this.fetchClustersData(),1e3)},createManagerDialogue(){this.createManagerDialogueModal=new B["a"](document.getElementById("createManagerDialogue"),{}),this.createManagerDialogueData.identifier="",this.createManagerDialogueData.persist=!0,this.createManagerDialogueData.token="",this.createManagerDialogueData.prefix="",this.createManagerDialogueData.client="",this.createManagerDialogueData.channel="",this.createManagerDialogueModal.show()},createManager(){this.sendRPC("manager:create",this.createManagerDialogueData),setTimeout(()=>this.fetchConfiguration(),1e3),this.createManagerDialogueModal.hide()},deleteManagerDialogue(t){this.deleteManagerDialogueModal=new B["a"](document.getElementById("deleteManagerDialogue"),{}),this.deleteManagerDialogueData={confirm:"",manager:t},this.deleteManagerDialogueModal.show()},deleteManager(){this.sendRPC("manager:delete",this.deleteManagerDialogueData),setTimeout(()=>this.fetchConfiguration(),1e3),this.deleteManagerDialogueModal.hide()},restartManagerDialogue(t){this.restartManagerDialogueModal=new B["a"](document.getElementById("restartManagerDialogue"),{}),this.restartManagerDialogueData={confirm:"",manager:t},this.restartManagerDialogueModal.show()},restartManager(){this.sendRPC("manager:restart",this.restartManagerDialogueData),setTimeout(()=>this.fetchConfiguration(),1e3),this.restartManagerDialogueModal.hide()},createShardGroupDialogue(t){this.createShardGroupDialogueModal=new B["a"](document.getElementById("createShardGroupDialogue"),{}),this.createShardGroupDialogueData.manager=t,this.createShardGroupDialogueData.autoShard=!0,this.createShardGroupDialogueData.shardCount=1,this.createShardGroupDialogueData.autoIDs=!0,this.createShardGroupDialogueData.shardIDs="",this.createShardGroupDialogueData.startImmediately=!0,this.createShardGroupDialogueModal.show()},createShardGroup(){var t=Object.assign({},this.createShardGroupDialogueData);t.shardCount=Number(t.shardCount),this.sendRPC("manager:shardgroup:create",t),setTimeout(()=>this.fetchClustersData(),1e3),this.createShardGroupDialogueModal.hide()},fetchClustersData(){q.a.get("/api/configuration").then(t=>{if(403==t.status&&clearInterval(this.fetch_task),0!=t.data.success){this.error&&document.location.reload(),this.daemon.rest_tunnel_enabled=t.data.data.rest_tunnel_enabled;var e=Object.keys(t.data.data.managers);for(var a in e){var s=e[a],n=t.data.data.managers[s];s in this.daemon.managers&&(this.daemon.managers[s].error=n.error,this.daemon.managers[s].shard_groups=n.shard_groups,this.daemon.managers[s].gateway=n.gateway)}}}).catch(t=>{var e;403==(null===(e=t.response)||void 0===e?void 0:e.status)&&clearInterval(this.fetch_task),this.showToast("Exception fetching manager data",t)})},fetchConfiguration(){q.a.get("/api/configuration").then(t=>{403==t.status&&clearInterval(this.fetch_task),this.daemon=t.data.data,this.error=!t.data.success}).catch(t=>{var e;403==(null===(e=t.response)||void 0===e?void 0:e.status)&&clearInterval(this.fetch_task),this.showToast("Exception fetching configuration",t)}).finally(()=>{this.loading=!1})},fetchAnalytics(){q.a.get("/api/analytics").then(t=>{if(403==t.status&&clearInterval(this.fetch_task),0==t.data.success)return;this.error&&document.location.reload(),this.analytics=t.data.data;let e=0,a=0,s=0;this.analytics.colour="bg-success";var n=Object.values(this.analytics.managers);for(var i in n){var r=n[i];s+=r.guilds;var o=Object.values(r.status);for(var l in o){var c=o[l];2<c&&c<4&&e++,a++}}this.analytics.visible=s,this.analytics.online=e+"/"+a,this.error=this.error|!t.data.success}).catch(t=>{var e;403==(null===(e=t.response)||void 0===e?void 0:e.status)&&clearInterval(this.fetch_task),this.showToast("Exception fetching analytics",t)}).finally(()=>this.loadingAnalytics=!1),this.daemon.rest_tunnel_enabled&&q.a.get("/api/resttunnel").then(t=>{403==t.status&&clearInterval(this.fetch_task),0!=t.data.success&&(this.error&&document.location.reload(),this.resttunnel.charts=t.data.data.charts,this.resttunnel.uptime=t.data.data.uptime,this.resttunnel.numbers=t.data.data.numbers)}).catch(t=>{var e;403==(null===(e=t.response)||void 0===e?void 0:e.status)&&clearInterval(this.fetch_task),this.showToast("Exception fetching resttunnel",t)}).finally(()=>this.loadingRestTunnel=!1)},fromClusters(t){var e={},a=0;return Object.entries(t).forEach(t=>{var s=t[0],n=t[1],i=Object.values(n.shard_groups);i.length>0&&(a=i.slice(-1)[0].status),""!=n.error&&(a=7),e[s]={configuration:n.configuration,shardgroups:n.shard_groups,gateway:n.gateway,status:a,error:n.error}}),e},calculateAverage(t){var e=0,a=0,s=Object.values(t.shardgroups);for(var n in s){var i=s[n];if(i.status<6){var r=Object.values(i.shards);for(var o in r){var l=r[o],c=new Date(l.last_heartbeat_ack)-new Date(l.last_heartbeat_sent);c>0&&(a+=c,e+=1)}}}return Math.round(a/e)||"-"},calculateAverageShardGroup(t){var e=0,a=0,s=Object.values(t.shards);for(var n in s){var i=s[n],r=new Date(i.last_heartbeat_ack)-new Date(i.last_heartbeat_sent);r>0&&(a+=r,e+=1)}return Math.round(a/e)||"-"},since(t){var e=new Date(t),a=((new Date).getTime()-e)/1e3,s="";if(a>86400){var n=Math.trunc(a/86400);n>0&&(s+=n+"d"),a%=86400}if(a>3600){var i=Math.trunc(a/3600);i>0&&(s+=i+"h"),a%=3600}if(a>60){var r=Math.trunc(a/60);r>0&&(s+=r+"m");var o=Math.ceil(a%60);o>0&&(s+=o+"s")}return s}}},_t=vt,Ct=(a("9c89"),a("579c"),Object(p["a"])(_t,N,L,!1,null,"98e18224",null)),yt=Ct.exports;s["a"].use(S["a"]);const xt=[{path:"/",name:"Index",component:O},{path:"/dashboard",name:"Dashboard",component:yt},{path:"*",component:G}],Dt=new S["a"]({mode:"history",base:"/",routes:xt});var kt=Dt,St=a("d604"),wt=a.n(St),Mt=(a("ab8b"),a("c1df"),a("4a68"),wt()({storeAsString:!0}));s["a"].config.productionTip=!1,s["a"].use(r.a),s["a"].use(n["a"]);const It=new n["a"].Store({state:{error:"",userLoading:!0,userAuthenticated:!1,user:{}}});new s["a"]({store:It,router:kt,render:t=>t(y),mounted(){this.fetchMe()},methods:{fetchMe(){q.a.get("/api/me",{transformResponse:[t=>Mt.parse(t)]}).then(t=>{var e=t.data;e.success?(It.state.userAuthenticated=e.data.authenticated,It.state.user=e.data.user):It.state.error=e.error}).catch(t=>{var e;(null===(e=t.response)||void 0===e?void 0:e.data)?It.state.error=t.response.data.error||t.response.data:It.state.error=t.text||t.toString()}).finally(()=>{It.state.userLoading=!1})}}}).$mount("#app")},"579c":function(t,e,a){"use strict";a("9a67")},"85ec":function(t,e,a){},"9a67":function(t,e,a){},"9c89":function(t,e,a){"use strict";a("0df3")},fd21:function(t,e,a){var s={"./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9"};function n(t){var e=i(t);return a(e)}function i(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=i,t.exports=n,n.id="fd21"}});
//# sourceMappingURL=app.52755b7c.js.map